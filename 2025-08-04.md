## [数列之和（Sum of a Sequence）](https://ac.nowcoder.com/acm/contest/95338/C)

**时间限制：** 1 s
**内存限制：** 256 MB

**输入：** 标准输入
**输出：** 标准输出



数列 $a$ 由 $10^{100}$ 项组成，从第一项开始，满足 $a_i = 2 \times i - 2$，即前几项为 $0$，$2$，$4$，$6$，$8$，$\cdots$。

小鸡首先选出了数列 $a$ 中，所有 **长度大于** $1$ 的 <u>连续子数列</u>$\large^{\text{∗}}$ 的元素和，小鸡将这些子数列和进行了 **去重** 并从 **小到大** 写下。

现在，小鸡想知道，他写下的第 $k$ 个数字是多少？



$\large^{\text{∗}}$连续子数列为从原数列中，连续的选择一段元素（可以全选、可以不选）得到的新数列。







### 输入

每个测试文件中包含多组测试数据。第一行输入一个整数 $t$（$1 \le t \le 10^5$）代表数据组数，每组测试数据描述如下：

在一行输入一个正整数 $k$（$1 \le k \le 10^{18}$）代表询问的数字。





### 输出

对于每一组测试数据，输出一行一个整数，代表小鸡写下的第 $k$ 个数字。





### 样例

**样例输入：**

```cpp
3
1
2
3
```



**样例输出：**

```cpp
2
6
10
```





### 注意

小鸡写下的前 $3$ 个数字分别为 $2$，$6$，$10$。 

所以前三个样例的答案分别为 $2$，$6$，$10$。





### 题解

由于原数列各项均为偶数，为简化问题，我们可将每项除以 $2$ 来分析。

根据初高中数学知识，可以算出第 $l$ 个数到第 $r$ 个数的和为 $sum = \frac{{{a_l} + {a_r}}}{2}(r - l + 1) = (r + l - 2)(r - l + 1)$

我们可以从奇偶性角度分析这个题：若 $l$，$r$ 都为奇数或都为偶数，则第一项为偶数、第二项为奇数；若 $l$，$r$ 一个是奇数一个是偶数，则第一项为奇数、第二项为偶数。即 $sum$ 总是一个奇数乘以偶数。

哪些数字不能分解成奇数乘以偶数的形式？形如 ${2^p}$ 的整数都不可以，它们没有任何奇数的因数，所以不能被分解。

综上所述，除了形如 $2^p (p \ge 1)$ 的数无法表示外，其他数均可。我们只需找到除去这类数后的第 $k$ 个数，再将最初为简化分析而除掉的 $2$ 乘回即可。



```cpp
void solve()  
{  
    int n;  
    cin >> n;  
    for (int t = 2; t <= n; t <<= 1)  
       ++n;  
    cout << 2 * n << endl;  
}
```