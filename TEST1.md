## [1 水浒签到](https://www.matiji.net/exam/brushquestion/35/4693/305EE97B0D5E361DE6A28CD18C929AF0)

**时间限制：** 1 s
**内存限制：** 256 MB



### 前言

这套命题将以《水浒传》为经纬，和大家一起完成跨时空的探险之旅。

水浒江湖第一回，九纹龙史进学艺。史进虽以武艺高强闻名，却也对这数字的奥秘颇感兴趣。小码妹则凭借着聪慧的头脑，向史进讲解起了一个特别的数列求和规则：

有一个长度为 $n$ 的序列 $a_1$，$a_2$，$\dots$，$a_n$。
若 $n$ 为偶数，将序列分成 $\frac{n}{2}$ 组，第 $1$ 组 $a_1$，$a_2$，第 $2$ 组 $a_3$，$a_4$，第 $3$ 组 $a_5$，$a_6$，...，第 $\frac{n}{2}$ 组 $a_{n-1}$，$a_n$。
若 $n$ 为奇数，将序列分成 $\frac{n+1}{2}$ 组，第 $1$ 组 $a_1$，$a_2$，第 $2$ 组 $a_3$，$a_4$，第 $3$ 组 $a_5$，$a_6$，...，第 $\frac{n+1}{2}$ 组 $a_n$。
现在要求求出所有的奇数组数字和 - 所有的偶数组数字和。
例如：
$n=6$，求出 $a_1 + a_2 - a_3 - a_4 + a_5 + a_6$。
$n=7$，求出 $a_1 + a_2 - a_3 - a_4 + a_5 + a_6 - a_7$。

史进听后，决心和小码妹一同钻研这数列问题，探寻其中的规律，说不定日后还能在江湖闯荡中派上用场。





### 格式

**输入格式：**
第一行一个整数 $n$（$1 \le n \le 10^5$）。
第二行 $n$ 个整数 $a_1$，$a_2$，$\dots$，$a_n$（$1 \le a_i \le 10^9$）。

**输出格式：**
一行一个整数，表示答案。





### 样例 1

**输入：**

```
6
3 2 1 4 5 6
```

**输出：**

```
11
```



### 样例 2

**输入：**

```
7
6 6 1 2 3 5 5
```

**输出：**

```
12
```







## [2 蓼儿洼算谜](https://www.matiji.net/exam/brushquestion/42/4693/305EE97B0D5E361DE6A28CD18C929AF0)

**时间限制：** 1 s
**内存限制：** 256 MB



### 前言

梁山好汉们南征方腊，虽最终平定叛乱，却也伤亡惨重，众兄弟星落云散。班师回朝后，宋江深知朝廷奸臣当道，心中忧虑。一日，他来到梦儿洼，望着那片曾经埋葬了众多兄弟的土地，思绪万千。

恍惚间，宋江眼前出现了一位神秘的老者。老者对宋江说道：“宋公明，你梁山一百单八将，义薄云天，然如今命运多舛。我有一道难题，若你能解得，或可窥得众兄弟未来的命运天机。”老者缓缓打开一块石碑，上面赫然刻了一些文字和公式。

有一个长度为 $n$ 的序列 $a_1 \sim a_n$，求 $\sum_{i=1}^{n-1} \sum_{j=i+1}^{n} [(a_i + a_j) \bmod 2 = 1] + \sum_{i=1}^{n-1} \sum_{j=i+1}^{n} [(a_i + a_j) \bmod 2 = 0]$ 的值。

老者缓缓说道：“此值暗藏玄机，若你能算出，或许能知晓众兄弟在梦儿洼的魂灵能否安宁，以及梁山的大义能否在世间留存一丝余韵。”





### 格式

**输入格式：**
第一行一个整数 $n$（$1 \le n \le 3 \times 10^5$）。
第二行 $n$ 个整数 $a_1 \sim a_n$（$1 \le a_i \le 10^9$）。

**输出格式：**
一行一个整数，表示答案。





### 样例 1

**输入：**

```
2
1 2
```

**输出：**

```
1
```





### 备注

$[expression]$ 表示的是如果该逻辑表达式为真，则该值为$1$，否则为$0$。
如 $a_i = 1$，$a_j = 2$，则 $[(a_i+a_j) \bmod 2 = 1]$ 的值为$1$， $[(a_i+a_j) \bmod 2 = 0]$ 的值为$0$。







## [3 鲁智深的佛缘](https://www.matiji.net/exam/brushquestion/36/4693/305EE97B0D5E361DE6A28CD18C929AF0)

**时间限制：** 1 s
**内存限制：** 256 MB



### 前言

鲁智深在五台山出家后，多次酗酒闹事，搅得寺院不得安宁。长老虽有心惩戒，却也念及他的佛缘。

一日，长老拿出一串佛珠，共有 $n$ 颗，每颗佛珠上都刻着一个数字，依次排列，形成一个长度为 $n$ 的序列 $a_1$，$a_2$，$\dots$，$a_n$。长老对鲁智深说，若能算出该序列的所有非空子序列的价值之和（对 $10^9 + 7$ 取模，一个序列的子序列为该序列删除任意个元素后剩下的序列），便不再追究他此前的过错。长老继续对鲁智深说，一个序列 $b_1$，$b_2$，$\dots$，$b_m$ 的价值定义为 $b_1 \times b_2 \times \dots \times b_m$。

鲁智深哪懂这些，正抓耳挠腮时，小码妹恰好路过。鲁智深连忙拉住小码妹求助。小码妹看着佛珠上的数字，开始思索如何得出答案。





### 格式

**输入格式：**
第一行一个整数 $n$（$1 \le n \le 10^6$）。
接下来一行 $n$ 个整数 $a_1$，$a_2$，$\dots$，$a_n$（$1 \le a_i \le 10^9$）。

**输出格式：**
一行一个整数，表示答案。





### 样例 1

**输入：**

```
3
1 2 3
```

**输出：**

```
23
```







## [4 夺取山寨](https://www.matiji.net/exam/brushquestion/37/4693/305EE97B0D5E361DE6A28CD18C929AF0)

**时间限制：** 4 s
**内存限制：** 1024 MB



### 前言

二龙山山脚下，杨志等人正谋划着夺取山寨。

二龙山的山寨布局恰似一棵有 $n$ 个据点（结点）的有根树，据点编号为 $1 \sim n$，主峰（根结点）编号为 $1$。众人得知，每个据点可安排 $0 \sim n-1$ 这 $n$ 种不同的权值（整数，每个数仅能使用一次）。$mex(u)$ 表示以 $u$ 为根结点所在子树中所有结点上的权值中，没有出现过的最小自然数。

杨志一脸郑重地对小码妹说道：“小码妹，你现在要好好算算 $\sum_{u=1}^{n} mex(u)$ 最大可能为多少，这可关系到夺寨大计的成败！”小码妹痛快地答道：“没问题！”





### 格式

**输入格式：**
第一行一个整数 $n$（$1 \le n \le 10^6$）。
接下来 $n-1$ 行，每行两个整数 $u$，$v$（$1 \le u$，$v \le n$），表示点 $u$ 和点 $v$ 之间有一条边。

**输出格式：**
一行一个整数，表示答案。





### 样例 1

**输入：**

```
2
1 2
```

**输出：**

```
3
```